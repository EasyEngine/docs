---
ID: 44845
post_title: 'Sitemap by Yoast&#8217;s WordPress-SEO'
author: Rahul Bansal
post_excerpt: ""
layout: page
permalink: >
  https://easyengine.io/wordpress-nginx/tutorials/plugins/yoast-seo-sitemap/
published: true
post_date: 2013-08-22 13:20:53
---

	<p>Following are Nginx rewrite rules we are using for sitemaps generated by <a href="http://wordpress.org/extend/plugins/wordpress-seo/">WordPress-SEO by Yoast</a> plugin on different sites.</p>
<pre>#Yoast sitemap
location ~ ([^/]*)sitemap(.*).x(m|s)l$ {
	rewrite ^/sitemap.xml$ /sitemap_index.xml permanent;
        rewrite ^/([a-z]+)?-?sitemap.xsl$ /index.php?xsl=$1 last;
	rewrite ^/sitemap_index.xml$ /index.php?sitemap=1 last;
	rewrite ^/([^/]+?)-sitemap([0-9]+)?.xml$ /index.php?sitemap=$1&amp;sitemap_n=$2 last;
        ## following lines are options. Needed for wordpress-seo addons
        rewrite ^/news_sitemap.xml$ /index.php?sitemap=wpseo_news last;
	rewrite ^/locations.kml$ /index.php?sitemap=wpseo_local_kml last;
	rewrite ^/geo_sitemap.xml$ /index.php?sitemap=wpseo_local last;
	rewrite ^/video-sitemap.xsl$ /index.php?xsl=video last;
	access_log off;
}</pre>
<h4>Notes</h4>
<ol>
<li>First line is to redirect old <code>sitemap.xml</code> to <code>sitemap_index.xml</code>. You can remove it if you want.</li>
<li>Few lines are added for WordPress-SEO addons. You can uncomment them based on addons you are using.</li>
<li>We have test rewrite rules for news sitemap only for real. If you find any rules broken, feel free to add it via comment below and we will have it fixed asap.</li>
<li><code>access_log off</code> can be removed if you are interested to keep log of sitemap requests. We disable it to save some disk I/O.</li>
<li>If your site-content is not updated frequently (many times in an hour), you may cache sitemap using <a href="https://easyengine.io/wordpress-nginx/tutorials/single-site/fastcgi-cache-with-purging/">fastcgi-cache</a>.</li>
</ol>
<p><strong>More:</strong> <a href="https://easyengine.io/wordpress-nginx/tutorials">Checkout our 50+ WordPress-Nginx Tutorials</a></p>